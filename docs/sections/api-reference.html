<div class="section-header">
    <h2 class="section-title">
        üîå <span data-pt="Refer√™ncia da API" data-en="API Reference">Refer√™ncia da API</span>
    </h2>
    <p class="section-description" data-pt="Documenta√ß√£o completa da API REST do Cidad√£o.AI para desenvolvedores e integra√ß√£o de sistemas." data-en="Complete REST API documentation for Cidad√£o.AI developers and system integration.">
        Documenta√ß√£o completa da API REST do Cidad√£o.AI para desenvolvedores e integra√ß√£o de sistemas.
    </p>
</div>

<style>
    .api-section {
        margin-bottom: 3rem;
        padding: 2rem;
        background-color: var(--bg-secondary);
        border-radius: 0.5rem;
        border: 1px solid var(--border);
    }
    
    .api-section h3 {
        color: var(--text-primary);
        margin-bottom: 1.5rem;
        font-size: 1.5rem;
        font-weight: 600;
    }
    
    .endpoint {
        margin-bottom: 2rem;
        padding: 1.5rem;
        background-color: var(--bg-primary);
        border-radius: 0.375rem;
        border: 1px solid var(--border-light);
    }
    
    .endpoint-header {
        display: flex;
        align-items: center;
        gap: 1rem;
        margin-bottom: 1rem;
    }
    
    .http-method {
        padding: 0.25rem 0.75rem;
        border-radius: 0.25rem;
        font-size: 0.875rem;
        font-weight: 600;
        font-family: 'JetBrains Mono', monospace;
    }
    
    .method-get { background-color: #dcfce7; color: #166534; }
    .method-post { background-color: #dbeafe; color: #1e40af; }
    .method-put { background-color: #fef3c7; color: #92400e; }
    .method-delete { background-color: #fecaca; color: #991b1b; }
    
    .endpoint-path {
        font-family: 'JetBrains Mono', monospace;
        font-size: 1rem;
        color: var(--text-primary);
        font-weight: 500;
    }
    
    .endpoint-description {
        color: var(--text-secondary);
        margin-bottom: 1rem;
    }
    
    .code-block {
        background-color: var(--bg-tertiary);
        border: 1px solid var(--border);
        border-radius: 0.375rem;
        padding: 1rem;
        margin: 1rem 0;
        font-family: 'JetBrains Mono', monospace;
        font-size: 0.875rem;
        overflow-x: auto;
    }
    
    .params-table {
        width: 100%;
        border-collapse: collapse;
        margin: 1rem 0;
    }
    
    .params-table th,
    .params-table td {
        padding: 0.75rem;
        text-align: left;
        border-bottom: 1px solid var(--border);
    }
    
    .params-table th {
        background-color: var(--bg-tertiary);
        font-weight: 600;
        color: var(--text-primary);
    }
    
    .param-type {
        font-family: 'JetBrains Mono', monospace;
        font-size: 0.875rem;
        color: var(--text-accent);
    }
    
    .param-required {
        color: var(--color-error);
        font-weight: 600;
    }
    
    .param-optional {
        color: var(--text-muted);
    }
    
    .response-example {
        background-color: var(--bg-code);
        border: 1px solid var(--border);
        border-radius: 0.375rem;
        padding: 1rem;
        margin: 1rem 0;
        font-family: 'JetBrains Mono', monospace;
        font-size: 0.875rem;
        overflow-x: auto;
    }
    
    .auth-badge {
        background-color: var(--color-warning);
        color: white;
        padding: 0.25rem 0.5rem;
        border-radius: 0.25rem;
        font-size: 0.75rem;
        font-weight: 500;
    }
    
    .rate-limit {
        background-color: var(--bg-accent);
        color: white;
        padding: 1rem;
        border-radius: 0.375rem;
        margin: 1rem 0;
    }
    
    .status-code {
        display: inline-block;
        padding: 0.25rem 0.5rem;
        border-radius: 0.25rem;
        font-family: 'JetBrains Mono', monospace;
        font-size: 0.875rem;
        font-weight: 600;
        margin-right: 0.5rem;
    }
    
    .status-200 { background-color: #dcfce7; color: #166534; }
    .status-400 { background-color: #fef3c7; color: #92400e; }
    .status-401 { background-color: #fecaca; color: #991b1b; }
    .status-500 { background-color: #fecaca; color: #991b1b; }
</style>

<!-- API Overview -->
<div class="api-section">
    <h3>üåê <span data-pt="Vis√£o Geral da API" data-en="API Overview">Vis√£o Geral da API</span></h3>
    <p data-pt="A API REST do Cidad√£o.AI oferece acesso program√°tico a todas as funcionalidades do sistema, permitindo integra√ß√£o com aplica√ß√µes externas e automa√ß√£o de investiga√ß√µes." data-en="The Cidad√£o.AI REST API provides programmatic access to all system functionalities, enabling integration with external applications and investigation automation.">
        A API REST do Cidad√£o.AI oferece acesso program√°tico a todas as funcionalidades do sistema, permitindo integra√ß√£o com aplica√ß√µes externas e automa√ß√£o de investiga√ß√µes.
    </p>
    
    <div class="rate-limit">
        <strong data-pt="‚ö° Rate Limiting:" data-en="‚ö° Rate Limiting:">‚ö° Rate Limiting:</strong>
        <span data-pt="100 requests/minuto por chave API" data-en="100 requests/minute per API key">100 requests/minuto por chave API</span>
    </div>
    
    <div class="code-block">
        <strong data-pt="Base URL:" data-en="Base URL:">Base URL:</strong> https://api.cidadao.ai/v1
    </div>
</div>

<!-- Authentication -->
<div class="api-section">
    <h3>üîê <span data-pt="Autentica√ß√£o" data-en="Authentication">Autentica√ß√£o</span></h3>
    <p data-pt="Todas as requisi√ß√µes devem incluir uma chave API v√°lida no header Authorization." data-en="All requests must include a valid API key in the Authorization header.">
        Todas as requisi√ß√µes devem incluir uma chave API v√°lida no header Authorization.
    </p>
    
    <div class="code-block">
Authorization: Bearer YOUR_API_KEY_HERE
Content-Type: application/json
    </div>
</div>

<!-- Investigations API -->
<div class="api-section">
    <h3>üîç <span data-pt="Investiga√ß√µes" data-en="Investigations">Investiga√ß√µes</span></h3>
    
    <div class="endpoint">
        <div class="endpoint-header">
            <span class="http-method method-post">POST</span>
            <span class="endpoint-path">/investigations</span>
            <span class="auth-badge">AUTH</span>
        </div>
        <p class="endpoint-description" data-pt="Iniciar uma nova investiga√ß√£o com query em linguagem natural" data-en="Start a new investigation with natural language query">
            Iniciar uma nova investiga√ß√£o com query em linguagem natural
        </p>
        
        <h4 data-pt="Par√¢metros:" data-en="Parameters:">Par√¢metros:</h4>
        <table class="params-table">
            <thead>
                <tr>
                    <th data-pt="Campo" data-en="Field">Campo</th>
                    <th data-pt="Tipo" data-en="Type">Tipo</th>
                    <th data-pt="Obrigat√≥rio" data-en="Required">Obrigat√≥rio</th>
                    <th data-pt="Descri√ß√£o" data-en="Description">Descri√ß√£o</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><code>query</code></td>
                    <td class="param-type">string</td>
                    <td class="param-required" data-pt="Sim" data-en="Yes">Sim</td>
                    <td data-pt="Consulta em linguagem natural" data-en="Natural language query">Consulta em linguagem natural</td>
                </tr>
                <tr>
                    <td><code>filters</code></td>
                    <td class="param-type">object</td>
                    <td class="param-optional" data-pt="Opcional" data-en="Optional">Opcional</td>
                    <td data-pt="Filtros espec√≠ficos para a busca" data-en="Specific filters for search">Filtros espec√≠ficos para a busca</td>
                </tr>
                <tr>
                    <td><code>priority</code></td>
                    <td class="param-type">string</td>
                    <td class="param-optional" data-pt="Opcional" data-en="Optional">Opcional</td>
                    <td data-pt="Prioridade: low, medium, high" data-en="Priority: low, medium, high">Prioridade: low, medium, high</td>
                </tr>
            </tbody>
        </table>
        
        <h4 data-pt="Exemplo de Requisi√ß√£o:" data-en="Request Example:">Exemplo de Requisi√ß√£o:</h4>
        <div class="code-block">
{
  "query": "contratos emergenciais sem licita√ß√£o acima de R$ 1 milh√£o em 2024",
  "filters": {
    "valor_minimo": 1000000,
    "ano": 2024,
    "tipo_contrato": "emergencial"
  },
  "priority": "high"
}
        </div>
        
        <h4 data-pt="Resposta:" data-en="Response:">Resposta:</h4>
        <div class="response-example">
{
  "investigation_id": "inv_12345",
  "status": "processing",
  "query": "contratos emergenciais sem licita√ß√£o acima de R$ 1 milh√£o em 2024",
  "created_at": "2024-01-15T10:30:00Z",
  "estimated_completion": "2024-01-15T10:35:00Z",
  "progress": 0
}
        </div>
    </div>
    
    <div class="endpoint">
        <div class="endpoint-header">
            <span class="http-method method-get">GET</span>
            <span class="endpoint-path">/investigations/{id}</span>
            <span class="auth-badge">AUTH</span>
        </div>
        <p class="endpoint-description" data-pt="Obter status e resultados de uma investiga√ß√£o" data-en="Get status and results of an investigation">
            Obter status e resultados de uma investiga√ß√£o
        </p>
        
        <h4 data-pt="Resposta:" data-en="Response:">Resposta:</h4>
        <div class="response-example">
{
  "investigation_id": "inv_12345",
  "status": "completed",
  "progress": 100,
  "results": {
    "total_contracts": 156,
    "suspicious_contracts": 23,
    "total_value": "R$ 450.000.000,00",
    "anomalies": [
      {
        "contract_id": "ct_789",
        "anomaly_type": "price_anomaly",
        "risk_level": "high",
        "description": "Pre√ßo 340% acima da m√©dia de mercado"
      }
    ]
  },
  "completed_at": "2024-01-15T10:34:22Z"
}
        </div>
    </div>
</div>

<!-- Analysis API -->
<div class="api-section">
    <h3>üìä <span data-pt="An√°lise" data-en="Analysis">An√°lise</span></h3>
    
    <div class="endpoint">
        <div class="endpoint-header">
            <span class="http-method method-post">POST</span>
            <span class="endpoint-path">/analysis/document</span>
            <span class="auth-badge">AUTH</span>
        </div>
        <p class="endpoint-description" data-pt="Analisar um documento espec√≠fico para detectar anomalias" data-en="Analyze a specific document to detect anomalies">
            Analisar um documento espec√≠fico para detectar anomalias
        </p>
        
        <h4 data-pt="Par√¢metros:" data-en="Parameters:">Par√¢metros:</h4>
        <table class="params-table">
            <thead>
                <tr>
                    <th data-pt="Campo" data-en="Field">Campo</th>
                    <th data-pt="Tipo" data-en="Type">Tipo</th>
                    <th data-pt="Obrigat√≥rio" data-en="Required">Obrigat√≥rio</th>
                    <th data-pt="Descri√ß√£o" data-en="Description">Descri√ß√£o</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><code>document_text</code></td>
                    <td class="param-type">string</td>
                    <td class="param-required" data-pt="Sim" data-en="Yes">Sim</td>
                    <td data-pt="Texto do documento para an√°lise" data-en="Document text for analysis">Texto do documento para an√°lise</td>
                </tr>
                <tr>
                    <td><code>document_type</code></td>
                    <td class="param-type">string</td>
                    <td class="param-required" data-pt="Sim" data-en="Yes">Sim</td>
                    <td data-pt="Tipo: contract, expense, bidding" data-en="Type: contract, expense, bidding">Tipo: contract, expense, bidding</td>
                </tr>
            </tbody>
        </table>
        
        <h4 data-pt="Resposta:" data-en="Response:">Resposta:</h4>
        <div class="response-example">
{
  "analysis_id": "ana_67890",
  "document_type": "contract",
  "anomaly_detection": {
    "has_anomaly": true,
    "confidence": 0.87,
    "anomaly_type": "price_anomaly",
    "risk_level": "high"
  },
  "legal_compliance": {
    "compliant": false,
    "violations": ["missing_justification", "invalid_supplier"]
  },
  "financial_analysis": {
    "total_value": 25000000,
    "market_comparison": 340,
    "risk_score": 0.92
  }
}
        </div>
    </div>
</div>

<!-- Reports API -->
<div class="api-section">
    <h3>üìÑ <span data-pt="Relat√≥rios" data-en="Reports">Relat√≥rios</span></h3>
    
    <div class="endpoint">
        <div class="endpoint-header">
            <span class="http-method method-get">GET</span>
            <span class="endpoint-path">/reports/{investigation_id}</span>
            <span class="auth-badge">AUTH</span>
        </div>
        <p class="endpoint-description" data-pt="Gerar relat√≥rio detalhado de uma investiga√ß√£o" data-en="Generate detailed report of an investigation">
            Gerar relat√≥rio detalhado de uma investiga√ß√£o
        </p>
        
        <h4 data-pt="Par√¢metros de Query:" data-en="Query Parameters:">Par√¢metros de Query:</h4>
        <table class="params-table">
            <thead>
                <tr>
                    <th data-pt="Campo" data-en="Field">Campo</th>
                    <th data-pt="Tipo" data-en="Type">Tipo</th>
                    <th data-pt="Descri√ß√£o" data-en="Description">Descri√ß√£o</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><code>format</code></td>
                    <td class="param-type">string</td>
                    <td data-pt="Formato: json, markdown, html" data-en="Format: json, markdown, html">Formato: json, markdown, html</td>
                </tr>
                <tr>
                    <td><code>detail_level</code></td>
                    <td class="param-type">string</td>
                    <td data-pt="N√≠vel: summary, detailed, full" data-en="Level: summary, detailed, full">N√≠vel: summary, detailed, full</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<!-- WebSocket API -->
<div class="api-section">
    <h3>üîÑ <span data-pt="WebSocket (Tempo Real)" data-en="WebSocket (Real-time)">WebSocket (Tempo Real)</span></h3>
    
    <div class="endpoint">
        <div class="endpoint-header">
            <span class="http-method method-get">WS</span>
            <span class="endpoint-path">/ws/investigations/{id}</span>
            <span class="auth-badge">AUTH</span>
        </div>
        <p class="endpoint-description" data-pt="Conectar-se a atualiza√ß√µes em tempo real de uma investiga√ß√£o" data-en="Connect to real-time updates of an investigation">
            Conectar-se a atualiza√ß√µes em tempo real de uma investiga√ß√£o
        </p>
        
        <h4 data-pt="Exemplo de Mensagem:" data-en="Message Example:">Exemplo de Mensagem:</h4>
        <div class="code-block">
{
  "type": "progress_update",
  "investigation_id": "inv_12345",
  "progress": 45,
  "current_task": "analyzing_contracts",
  "timestamp": "2024-01-15T10:32:15Z"
}
        </div>
    </div>
</div>

<!-- Status Codes -->
<div class="api-section">
    <h3>üìã <span data-pt="C√≥digos de Status" data-en="Status Codes">C√≥digos de Status</span></h3>
    
    <div style="margin: 1rem 0;">
        <span class="status-code status-200">200</span>
        <span data-pt="Sucesso - Requisi√ß√£o processada com sucesso" data-en="Success - Request processed successfully">Sucesso - Requisi√ß√£o processada com sucesso</span>
    </div>
    
    <div style="margin: 1rem 0;">
        <span class="status-code status-400">400</span>
        <span data-pt="Bad Request - Par√¢metros inv√°lidos" data-en="Bad Request - Invalid parameters">Bad Request - Par√¢metros inv√°lidos</span>
    </div>
    
    <div style="margin: 1rem 0;">
        <span class="status-code status-401">401</span>
        <span data-pt="Unauthorized - Chave API inv√°lida" data-en="Unauthorized - Invalid API key">Unauthorized - Chave API inv√°lida</span>
    </div>
    
    <div style="margin: 1rem 0;">
        <span class="status-code status-500">500</span>
        <span data-pt="Internal Server Error - Erro interno do servidor" data-en="Internal Server Error - Internal server error">Internal Server Error - Erro interno do servidor</span>
    </div>
</div>

<!-- SDKs -->
<div class="api-section">
    <h3>üì¶ <span data-pt="SDKs e Bibliotecas" data-en="SDKs and Libraries">SDKs e Bibliotecas</span></h3>
    
    <div class="subsection">
        <h4>üêç Python SDK</h4>
        <div class="code-block">
pip install cidadao-ai-sdk

from cidadao_ai import CidadaoAI

client = CidadaoAI(api_key="your_api_key")
investigation = client.investigations.create(
    query="contratos emergenciais sem licita√ß√£o"
)
        </div>
    </div>
    
    <div class="subsection">
        <h4>üü® JavaScript SDK</h4>
        <div class="code-block">
npm install @cidadao-ai/sdk

import { CidadaoAI } from '@cidadao-ai/sdk';

const client = new CidadaoAI({ apiKey: 'your_api_key' });
const investigation = await client.investigations.create({
    query: 'contratos emergenciais sem licita√ß√£o'
});
        </div>
    </div>
</div>

<!-- Next Section Preview -->
<div class="info-card">
    <h4>üîÆ <span data-pt="Pr√≥xima Se√ß√£o: Implementa√ß√£o T√©cnica" data-en="Next Section: Technical Implementation">Pr√≥xima Se√ß√£o: Implementa√ß√£o T√©cnica</span></h4>
    <p data-pt="A pr√≥xima se√ß√£o apresentar√° os detalhes t√©cnicos da implementa√ß√£o, incluindo arquitetura de microservi√ßos, tecnologias utilizadas e padr√µes de design aplicados." data-en="The next section will present the technical implementation details, including microservices architecture, technologies used, and applied design patterns.">
        A pr√≥xima se√ß√£o apresentar√° os detalhes t√©cnicos da implementa√ß√£o, incluindo arquitetura de microservi√ßos, tecnologias utilizadas e padr√µes de design aplicados.
    </p>
</div>