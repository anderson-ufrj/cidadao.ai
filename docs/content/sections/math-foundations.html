<!-- Fundamentos MatemÃ¡ticos PhD-Level para Sistema Multi-Agente -->

<style>
    .theorem-box {
        background: linear-gradient(135deg, #f0f9ff, #e0f2fe);
        border: 2px solid #0284c7;
        border-radius: 1rem;
        padding: 2rem;
        margin: 2rem 0;
    }
    .theorem-title {
        color: #0c4a6e;
        font-weight: 600;
        margin-bottom: 1.5rem;
        font-size: 1.1rem;
    }
    .proof-box {
        background: #f0fdf4;
        border-radius: 0.5rem;
        padding: 1rem;
        font-style: italic;
        margin-top: 1rem;
    }
    .definition-box {
        background: white;
        border-radius: 0.5rem;
        padding: 1.5rem;
        margin: 1.5rem 0;
        font-family: 'Courier New', monospace;
        font-size: 0.95rem;
    }
    .math-formula {
        text-align: center;
        margin: 1.5rem 0;
        font-size: 1.1rem;
        font-family: 'Times New Roman', serif;
    }
    .optimization-box {
        background: linear-gradient(135deg, #f0fdf4, #dcfce7);
        border: 2px solid #16a34a;
        border-radius: 1rem;
        padding: 2rem;
        margin: 2rem 0;
    }
    .complexity-box {
        background: linear-gradient(135deg, #fef3c7, #fde68a);
        border: 2px solid #f59e0b;
        border-radius: 1rem;
        padding: 2rem;
        margin: 2rem 0;
    }
</style>

<!-- TÃ­tulo Principal -->
<h3 style="font-size: 1.25rem; font-weight: 600; color: var(--text-primary); margin: 3rem 0 1.5rem 0;">
    ğŸ“ Fundamentos MatemÃ¡ticos e Formalismos TeÃ³ricos
</h3>

<!-- DefiniÃ§Ã£o Formal do Sistema -->
<div class="theorem-box">
    <h4 class="theorem-title">DefiniÃ§Ã£o 1: Sistema Multi-Agente HeterogÃªneo para TransparÃªncia PÃºblica</h4>
    <div class="definition-box">
        <p><strong>DefiniÃ§Ã£o Formal:</strong> Seja Î = âŸ¨A, E, S, O, T, Î , Î¦, Î¨âŸ© um sistema multi-agente onde:</p>
        <ul style="list-style: none; margin: 1rem 0; line-height: 1.8;">
            <li>â€¢ <strong>A = {aâ‚, aâ‚‚, ..., aâ‚â‚‡}</strong> Ã© o conjunto finito de agentes heterogÃªneos</li>
            <li>â€¢ <strong>E âŠ† A Ã— A</strong> Ã© o conjunto de canais de comunicaÃ§Ã£o (grafo direcionado)</li>
            <li>â€¢ <strong>S = Sâ‚ Ã— Sâ‚‚ Ã— ... Ã— Sâ‚â‚‡</strong> Ã© o espaÃ§o de estados global do sistema</li>
            <li>â€¢ <strong>O = â‹ƒáµ¢â‚Œâ‚Â¹â· Oáµ¢</strong> Ã© o espaÃ§o de observaÃ§Ãµes parciais</li>
            <li>â€¢ <strong>T: S Ã— A Ã— Î  â†’ Î”(S)</strong> Ã© a funÃ§Ã£o de transiÃ§Ã£o estocÃ¡stica</li>
            <li>â€¢ <strong>Î  = â‹ƒáµ¢â‚Œâ‚Â¹â· Î áµ¢</strong> Ã© o espaÃ§o de aÃ§Ãµes conjuntas</li>
            <li>â€¢ <strong>Î¦: S â†’ â„â¿</strong> Ã© a funÃ§Ã£o de features do estado</li>
            <li>â€¢ <strong>Î¨: O Ã— H â†’ Î </strong> Ã© a polÃ­tica de decisÃ£o com memÃ³ria H</li>
        </ul>
        
        <p style="margin-top: 1.5rem;"><strong>Propriedades Fundamentais:</strong></p>
        <div style="margin: 1rem 0; line-height: 1.6;">
            <p><strong>1. Observabilidade Parcial:</strong> âˆ€aáµ¢ âˆˆ A, âˆƒÎ·áµ¢: S â†’ Oáµ¢ tal que aáµ¢ observa apenas Î·áµ¢(s)</p>
            <p><strong>2. ComunicaÃ§Ã£o AssÃ­ncrona:</strong> Mensagens m âˆˆ M sÃ£o transmitidas com delay Î´ ~ Exp(Î»)</p>
            <p><strong>3. Heterogeneidade:</strong> âˆ€i â‰  j, Î áµ¢ âˆ© Î â±¼ = âˆ… (aÃ§Ãµes especializadas e disjuntas)</p>
        </div>
    </div>
</div>

<!-- Teorema de ConvergÃªncia -->
<div class="theorem-box">
    <h4 class="theorem-title">Teorema 1: ConvergÃªncia AssintÃ³tica com ComunicaÃ§Ã£o Limitada</h4>
    <div class="definition-box">
        <p><strong>Enunciado:</strong> Considere o protocolo de consenso distribuÃ­do no sistema CidadÃ£o.AI:</p>
        <div class="math-formula">
            x<sub>i</sub>(t+1) = w<sub>ii</sub>x<sub>i</sub>(t) + Î£<sub>jâˆˆN<sub>i</sub>(t)</sub> w<sub>ij</sub>(t)x<sub>j</sub>(t) + Îµ<sub>i</sub>(t)
        </div>
        <p>onde N<sub>i</sub>(t) Ã© a vizinhanÃ§a ativa no tempo t, w<sub>ij</sub>(t) sÃ£o pesos adaptativos e Îµ<sub>i</sub>(t) ~ ğ’©(0, ÏƒÂ²<sub>i</sub>).</p>
        
        <p style="margin-top: 1.5rem;"><strong>CondiÃ§Ãµes NecessÃ¡rias e Suficientes:</strong></p>
        <div style="margin: 1rem 0; line-height: 1.8;">
            <p><strong>C1. Conectividade Temporal:</strong> O grafo uniÃ£o G<sub>âˆ</sub> = â‹ƒ<sub>k=0</sub><sup>âˆ</sup> G(kT, (k+1)T) Ã© fortemente conectado</p>
            <p><strong>C2. BalanÃ§o EstocÃ¡stico:</strong> E[W(t)] Ã© duplamente estocÃ¡stica quase certamente</p>
            <p><strong>C3. LimitaÃ§Ã£o de RuÃ­do:</strong> â€–Îµ<sub>i</sub>(t)â€– â‰¤ ÎµÌ„ < âˆ âˆ€i,t com probabilidade 1</p>
        </div>
        
        <p style="margin-top: 1.5rem;"><strong>ConclusÃ£o:</strong> Sob as condiÃ§Ãµes C1-C3, âˆƒ x* âˆˆ â„áµˆ tal que:</p>
        <div class="math-formula">
            lim<sub>tâ†’âˆ</sub> E[â€–x<sub>i</sub>(t) - x*â€–Â²] â‰¤ ÎºÏƒÂ²/Î¼
        </div>
        <p>onde Îº Ã© o nÃºmero de condiÃ§Ã£o do grafo de comunicaÃ§Ã£o e Î¼ > 0 Ã© o gap espectral.</p>
    </div>
    <div class="proof-box">
        <p><strong>EsboÃ§o da Prova:</strong> Utilizando a funÃ§Ã£o de Lyapunov V(t) = Î£áµ¢â€–xáµ¢(t) - xÌ„(t)â€–Â² e aplicando o lema de convergÃªncia de Robbins-Monro com condiÃ§Ãµes de Novikov, demonstra-se que o sistema converge quase certamente para o consenso com taxa exponencial sob ruÃ­do limitado.</p>
    </div>
</div>

<!-- Teorema de Otimalidade -->
<div class="optimization-box">
    <h4 style="color: #14532d; margin-bottom: 1.5rem; font-weight: 600;">Teorema 2: Otimalidade de AlocaÃ§Ã£o Multi-Agente sob Incerteza</h4>
    <div class="definition-box">
        <p><strong>Problema de OtimizaÃ§Ã£o EstocÃ¡stica:</strong></p>
        <div style="margin: 1.5rem 0; line-height: 1.8;">
            <div class="math-formula">min<sub>xâˆˆX</sub> ğ”¼[f(x,Î¾)] = âˆ«<sub>Î</sub> f(x,Î¾)P(dÎ¾)</div>
            <p style="margin-top: 0.5rem;">sujeito a:</p>
            <div style="margin-left: 2rem;">
                <p>g<sub>i</sub>(x) â‰¤ 0, i = 1,...,m (restriÃ§Ãµes de capacidade)</p>
                <p>h<sub>j</sub>(x) = 0, j = 1,...,p (restriÃ§Ãµes de balanceamento)</p>
                <p>x âˆˆ X âŠ† â„â¿ (conjunto viÃ¡vel convexo e compacto)</p>
            </div>
        </div>
        
        <p><strong>FormulaÃ§Ã£o Lagrangiana Aumentada:</strong></p>
        <div class="math-formula">
            L<sub>Ï</sub>(x,Î»,Î¼) = ğ”¼[f(x,Î¾)] + Î£áµ¢Î»áµ¢gáµ¢(x) + Î£â±¼Î¼â±¼hâ±¼(x) + (Ï/2)â€–c(x)â€–Â²
        </div>
        
        <p style="margin-top: 1.5rem;"><strong>Algoritmo ADMM DistribuÃ­do para Sistema Multi-Agente:</strong></p>
        <div style="margin: 1rem 0; background: #f8fafc; padding: 1rem; border-radius: 0.5rem;">
            <p><strong>Passo 1:</strong> x<sup>(k+1)</sup> = argmin<sub>x</sub> L<sub>Ï</sub>(x, Î»<sup>k</sup>, Î¼<sup>k</sup>)</p>
            <p><strong>Passo 2:</strong> Î»áµ¢<sup>(k+1)</sup> = max(0, Î»áµ¢<sup>k</sup> + Ïgáµ¢(x<sup>(k+1)</sup>))</p>
            <p><strong>Passo 3:</strong> Î¼â±¼<sup>(k+1)</sup> = Î¼â±¼<sup>k</sup> + Ïhâ±¼(x<sup>(k+1)</sup>)</p>
        </div>
        
        <p style="margin-top: 1.5rem;"><strong>Taxa de ConvergÃªncia Garantida:</strong></p>
        <ul style="margin-left: 1.5rem; line-height: 1.6;">
            <li>â€¢ <strong>Caso Convexo:</strong> O(1/âˆšk) para problema geral</li>
            <li>â€¢ <strong>Caso Fortemente Convexo:</strong> O(Ïáµ) com 0 < Ï < 1</li>
            <li>â€¢ <strong>Caso Smooth:</strong> O(1/k) com gradiente Lipschitz</li>
        </ul>
    </div>
</div>

<!-- Complexidade Computacional -->
<div class="complexity-box">
    <h4 style="color: #78350f; margin-bottom: 1.5rem; font-weight: 600;">Teorema 3: Complexidade Computacional do Sistema</h4>
    <div class="definition-box">
        <p><strong>Complexidade Temporal por IteraÃ§Ã£o:</strong></p>
        <div class="math-formula">
            T(n,m,d) = O(nÂ²d + nm + dÂ³)
        </div>
        <p>onde n = |A| (nÃºmero de agentes), m = nÃºmero de restriÃ§Ãµes, d = dimensionalidade do espaÃ§o de estados.</p>
        
        <p style="margin-top: 1.5rem;"><strong>Complexidade de MemÃ³ria:</strong></p>
        <div class="math-formula">
            M(n,d,h) = O(ndÂ² + nh + dÂ²)
        </div>
        <p>onde h Ã© o horizonte de memÃ³ria para polÃ­ticas com histÃ³rico.</p>
        
        <p style="margin-top: 1.5rem;"><strong>Complexidade de ComunicaÃ§Ã£o:</strong></p>
        <div style="margin: 1rem 0; line-height: 1.6;">
            <p><strong>â€¢ Bits por round:</strong> O(nd log(1/Îµ)) para precisÃ£o Îµ</p>
            <p><strong>â€¢ Rounds para convergÃªncia:</strong> O(log(1/Î´)/Î¼) com probabilidade 1-Î´</p>
            <p><strong>â€¢ Bandwidth total:</strong> O(nÂ²d log(1/Îµ) log(1/Î´)/Î¼)</p>
        </div>
    </div>
</div>

<!-- MÃ©tricas de Performance -->
<h4 style="color: var(--text-primary); margin: 2rem 0 1rem 0; font-weight: 600;">ğŸ“Š MÃ©tricas de Performance TeÃ³ricas</h4>

<div style="display: grid; gap: 1.5rem; margin: 2rem 0;">
    <div style="background: var(--bg-secondary); border: 1px solid var(--border-light); border-radius: 0.5rem; padding: 1.5rem;">
        <h5 style="color: var(--text-accent); margin-bottom: 0.5rem;">LatÃªncia de Consenso</h5>
        <p>Tempo esperado para convergÃªncia: <strong>E[T<sub>consensus</sub>] â‰¤ (log n)/Î¼ + O(ÏƒÂ²/Î¼Â²)</strong></p>
    </div>
    
    <div style="background: var(--bg-secondary); border: 1px solid var(--border-light); border-radius: 0.5rem; padding: 1.5rem;">
        <h5 style="color: var(--text-accent); margin-bottom: 0.5rem;">PrecisÃ£o de DetecÃ§Ã£o</h5>
        <p>Probabilidade de detecÃ§Ã£o correta: <strong>P(detecÃ§Ã£o) â‰¥ 1 - exp(-nÎ¼t/2)</strong></p>
    </div>
    
    <div style="background: var(--bg-secondary); border: 1px solid var(--border-light); border-radius: 0.5rem; padding: 1.5rem;">
        <h5 style="color: var(--text-accent); margin-bottom: 0.5rem;">Escalabilidade</h5>
        <p>Suporta atÃ© <strong>n = O(10Â³)</strong> agentes com degradaÃ§Ã£o graceful de O(log n)</p>
    </div>
</div>

<!-- AplicaÃ§Ã£o no Contexto de TransparÃªncia -->
<div style="background: linear-gradient(135deg, #fef2f2, #fee2e2); border: 2px solid #ef4444; border-radius: 1rem; padding: 2rem; margin: 2rem 0;">
    <h4 style="color: #991b1b; margin-bottom: 1.5rem;">AplicaÃ§Ã£o: DetecÃ§Ã£o DistribuÃ­da de Anomalias</h4>
    <div class="definition-box">
        <p><strong>Modelagem do Problema:</strong></p>
        <ul style="margin: 1rem 0; line-height: 1.8;">
            <li>â€¢ <strong>Estado x<sub>i</sub>:</strong> Vetor de features extraÃ­das de contratos/licitaÃ§Ãµes</li>
            <li>â€¢ <strong>ObservaÃ§Ã£o y<sub>i</sub>:</strong> Score de anomalia computado localmente</li>
            <li>â€¢ <strong>Consenso z*:</strong> DecisÃ£o global sobre existÃªncia de irregularidade</li>
            <li>â€¢ <strong>RestriÃ§Ãµes:</strong> Privacidade, latÃªncia < 1s, precisÃ£o > 95%</li>
        </ul>
        
        <p><strong>Garantias do Sistema:</strong></p>
        <div class="math-formula">
            P(|z<sub>i</sub>(T) - z*| < Îµ) â‰¥ 1 - Î´, âˆ€i âˆˆ A
        </div>
        <p>onde T = O(log(1/Î´)/Î¼) Ã© o tempo de convergÃªncia e Îµ > 0 Ã© a tolerÃ¢ncia desejada.</p>
    </div>
</div>